<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CatEncFamily Module &mdash; Documentation of package catencfamily 0.0.96 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=2f74cb28"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="utils.xgImptFeatures" href="_autosummary/utils.xgImptFeatures.html" />
    <link rel="prev" title="Welcome to Documentation of pacakage catencfamily’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Documentation of package catencfamily
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">CatEncFamily Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#catencfamily.CatEncodersFamily"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily.__init__"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily.__init__()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily.__module__"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily.__module__</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._calCentralityMeasures"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._calCentralityMeasures()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._calCommunities"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._calCommunities()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._checkMissing"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._checkMissing()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._checkParamsIntegrity"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._checkParamsIntegrity()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._cleanup"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._cleanup()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._createCatPairwiseCols"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._createCatPairwiseCols()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._featureEngTrainTest"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._featureEngTrainTest()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._genModel"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._genModel()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._getCatVectors"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._getCatVectors()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._getRelCols"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._getRelCols()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._getSample"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._getSample()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._getStoreFeatures"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._getStoreFeatures()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._interactionCols"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._interactionCols()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._learn"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._learn()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._levelsTransformer"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._levelsTransformer()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._loadStoredModels"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._loadStoredModels()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._load_dict_from_file"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._load_dict_from_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._mergeRareLevels"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._mergeRareLevels()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._permuteColList"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._permuteColList()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._projectBipartiteGraph"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._projectBipartiteGraph()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._readAllStoredModels"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._readAllStoredModels()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._reduceMemUsage"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._reduceMemUsage()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._saveGraphToDisk"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._saveGraphToDisk()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._save_dict_to_file"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._save_dict_to_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._storeModel"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._storeModel()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._storeModelComm"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._storeModelComm()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._toNetwork"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._toNetwork()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily._updateLevels"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily._updateLevels()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily.fit"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily.fit()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily.plotNetworkGraph"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily.plotNetworkGraph()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily.transform"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily.transform()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#catencfamily.CatEncodersFamily.vectorsToTSV"><code class="docutils literal notranslate"><span class="pre">CatEncodersFamily.vectorsToTSV()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#module-utils">Utils Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#utils.addStatsCols"><code class="docutils literal notranslate"><span class="pre">addStatsCols()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.binFeatures"><code class="docutils literal notranslate"><span class="pre">binFeatures()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.bootstrapSample"><code class="docutils literal notranslate"><span class="pre">bootstrapSample()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.calMIScores"><code class="docutils literal notranslate"><span class="pre">calMIScores()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.communityVisualization"><code class="docutils literal notranslate"><span class="pre">communityVisualization()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.featureEngKmeans"><code class="docutils literal notranslate"><span class="pre">featureEngKmeans()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.featureImptByCentFeatCounts"><code class="docutils literal notranslate"><span class="pre">featureImptByCentFeatCounts()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.featureImptByScore"><code class="docutils literal notranslate"><span class="pre">featureImptByScore()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.generateClassificationData"><code class="docutils literal notranslate"><span class="pre">generateClassificationData()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.pcaAndConcat"><code class="docutils literal notranslate"><span class="pre">pcaAndConcat()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.plotBipartiteGraph"><code class="docutils literal notranslate"><span class="pre">plotBipartiteGraph()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.plotMulResults"><code class="docutils literal notranslate"><span class="pre">plotMulResults()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.plotResults"><code class="docutils literal notranslate"><span class="pre">plotResults()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.plotSeries"><code class="docutils literal notranslate"><span class="pre">plotSeries()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.plotUnipartiteGraph"><code class="docutils literal notranslate"><span class="pre">plotUnipartiteGraph()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.randomSample"><code class="docutils literal notranslate"><span class="pre">randomSample()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.remConstColumns"><code class="docutils literal notranslate"><span class="pre">remConstColumns()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.remCorrFeatures"><code class="docutils literal notranslate"><span class="pre">remCorrFeatures()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.removeLowVarCols"><code class="docutils literal notranslate"><span class="pre">removeLowVarCols()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.restorePythonObject"><code class="docutils literal notranslate"><span class="pre">restorePythonObject()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.savePythonObject"><code class="docutils literal notranslate"><span class="pre">savePythonObject()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.transformBinnedDF2Communities"><code class="docutils literal notranslate"><span class="pre">transformBinnedDF2Communities()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.transformBinnedDF2CommunitiesAll"><code class="docutils literal notranslate"><span class="pre">transformBinnedDF2CommunitiesAll()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.transformFeatures"><code class="docutils literal notranslate"><span class="pre">transformFeatures()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.transformToCatFeatures"><code class="docutils literal notranslate"><span class="pre">transformToCatFeatures()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.visualize_importance"><code class="docutils literal notranslate"><span class="pre">visualize_importance()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#utils.xgImptFeatures"><code class="docutils literal notranslate"><span class="pre">xgImptFeatures()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.xgImptFeatures.html">utils.xgImptFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.visualize_importance.html">utils.visualize_importance</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.remCorrFeatures.html">utils.remCorrFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.addStatsCols.html">utils.addStatsCols</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.transformToCatFeatures.html">utils.transformToCatFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.generateClassificationData.html">utils.generateClassificationData</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.transformFeatures.html">utils.transformFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.removeLowVarCols.html">utils.removeLowVarCols</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.binFeatures.html">utils.binFeatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.randomSample.html">utils.randomSample</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.plotResults.html">utils.plotResults</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.plotMulResults.html">utils.plotMulResults</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.bootstrapSample.html">utils.bootstrapSample</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.savePythonObject.html">utils.savePythonObject</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.restorePythonObject.html">utils.restorePythonObject</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.pcaAndConcat.html">utils.pcaAndConcat</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.calMIScores.html">utils.calMIScores</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.plotSeries.html">utils.plotSeries</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.featureImptByCentFeatCounts.html">utils.featureImptByCentFeatCounts</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.featureImptByScore.html">utils.featureImptByScore</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.plotBipartiteGraph.html">utils.plotBipartiteGraph</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.plotUnipartiteGraph.html">utils.plotUnipartiteGraph</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.communityVisualization.html">utils.communityVisualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.transformBinnedDF2Communities.html">utils.transformBinnedDF2Communities</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.transformBinnedDF2CommunitiesAll.html">utils.transformBinnedDF2CommunitiesAll</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.remConstColumns.html">utils.remConstColumns</a></li>
<li class="toctree-l2"><a class="reference internal" href="_autosummary/utils.featureEngKmeans.html">utils.featureEngKmeans</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Documentation of package catencfamily</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">CatEncFamily Module</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/harnalashok/CatEncodersFamily/blob/mainmodules.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-catencfamily">
<span id="catencfamily-module"></span><h1>CatEncFamily Module<a class="headerlink" href="#module-catencfamily" title="Permalink to this heading"></a></h1>
<p>References:
Coding standard:</p>
<blockquote>
<div><p><a class="reference external" href="https://gist.github.com/nateGeorge/5455d2c57fb33c1ae04706f2dc4fee01">https://gist.github.com/nateGeorge/5455d2c57fb33c1ae04706f2dc4fee01</a></p>
</div></blockquote>
<dl class="simple">
<dt>Developing sklearn estimators:</dt><dd><p><a class="reference external" href="https://scikit-learn.org/stable/developers/develop.html">https://scikit-learn.org/stable/developers/develop.html</a></p>
</dd>
<dt>Project template:</dt><dd><p><a class="reference external" href="https://github.com/scikit-learn-contrib/project-template/">https://github.com/scikit-learn-contrib/project-template/</a></p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">catencfamily.</span></span><span class="sig-name descname"><span class="pre">CatEncodersFamily</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pathToStoreProgress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modelsPath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapDictPath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cMeasures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">0,</span> <span class="pre">None,</span> <span class="pre">1,</span> <span class="pre">1]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noOfColsToConcat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">avg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">saveGraph</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mergelevelsincols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mergethreshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replaceby</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'99999'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">avoidInteractionFeatures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multigraph</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">BaseEstimator</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">TransformerMixin</span></code></p>
<p>A class to encode categorical features in multiple but related 
ways using network analysis. Together, the family of multiple encodings
serve as a numerical vector for every level of a categorical feature.</p>
<p>The class transforms a group of categorical features into corresponding
numerical features which can then be used either in unsupervised learning 
or predictive analytics. To assist in unsupervised learning, the class
has methods to save a categorical feature as network graphs and plot them.</p>
<p>The class has methods to extract unit vectors (numerical) for every 
level of a categorical feature to help, for example, in understanding
relationshsips between various levels. Extracted numerical vectors
can directly be used in plotting for example in tensorflow’s Embedding 
Projector.</p>
<p>As the encodings are calculated using a group of network analysis operations,
the family of encodings is extensible. The class provides one way, but a 
limited one to extend it.</p>
<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pathToStoreProgress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modelsPath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapDictPath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cMeasures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">0,</span> <span class="pre">None,</span> <span class="pre">1,</span> <span class="pre">1]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noOfColsToConcat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">avg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">saveGraph</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mergelevelsincols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mergethreshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replaceby</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'99999'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">avoidInteractionFeatures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multigraph</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily.__init__" title="Permalink to this definition"></a></dt>
<dd><section id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this heading"></a></h2>
<dl>
<dt>pathToStoreProgress :string; As dictionaries are created </dt><dd><p>to map cat-column levels to different 
centrality measures, a file records the progress.
The progress file is placed in this folder. 
Default folder is &lt;currentfolder&gt;/allmodels/progress/</p>
</dd>
<dt>modelsPath<span class="classifier">string; When, n_iter &gt;1, dictionaries created to map cat-column</span></dt><dd><p>levels to difft centrality measures, per iteration, are saved 
here in .pkl file. Before saving, dictionaries are transformed
to pandas DataFrame and then saved. Such DataFrames are, at times,
being called as models in this help. Default modelsPath folder is 
&lt;currentfolder&gt;/allmodels/models/</p>
</dd>
<dt>cMeasures<span class="classifier">list; It specifies what all centrality measures are to be calculated.</span></dt><dd><p>One can also specify a function object that calculates some centrality
measure. The default cMeasures is [1,1,1,0,None,1,1].</p>
<p>Presence of 1 or 0 in cMeasures implies:
Ist   1            calculate degree centrality
IInd  1            calculate eigenvector centrality
IIIrd 1            calculate pagerank centrality,
IVth  1            calculate clustering coefficient,
Vth  func_obj      for user specified function object</p>
<blockquote>
<div><p>to calculate centrality. It requires
that IV element be also 1. If IV elem
is 0, then func_obj will not be 
evaluated.</p>
</div></blockquote>
<p>VI    1            calculate betweenness centrality
VII   1            is for discovering communities (Which node</p>
<blockquote>
<div><blockquote>
<div><p>belongs to which community? ) and community
characteristics: density and avg_embeddedness.</p>
</div></blockquote>
<dl class="simple">
<dt>0           at any pos means not to calculate that </dt><dd><p>specific measure</p>
</dd>
</dl>
</div></blockquote>
</dd>
<dt>noOfColsToConcat<span class="classifier">int; Before centrality measures are calculated, new columns</span></dt><dd><p>are created by taking as many cat columns at a time as noOfColsToConcat
Presently only a value of 2 is allowed. That is, if there are 3 cat cols
[‘a’,’b’,’c’] new concatenated cols will be: [‘a+b’, ‘a+c’, ‘b+c’]</p>
</dd>
<dt>k<span class="classifier">int; If k is not None use k node samples to estimate betweenness.</span></dt><dd><p>The value of k &lt;= n where n is the number of nodes in the graph.
Higher values give better approximation. Only relevant if betweenness centrality
is to be calculated.</p>
</dd>
<dt>n_iter<span class="classifier">int; The number of times cMeasures are to be calculated over different samples of data,</span></dt><dd><p>Default is 1 when cMeasures is calculated over complete data.</p>
</dd>
<dt>sampsize<span class="classifier">float; Sample size of data over which cMeasures to be calculated when n_iter &gt; 1.</span></dt><dd><p>The default is 0.8.</p>
</dd>
<dt>avg<span class="classifier">boolean; When n_iter &gt; 1, each one of cMeasures is calcuated n_iter times. To calculate</span></dt><dd><p>a final value either average or median of each cMeasures is taken.
If avg is True (the default) then for each cMeasures (say, pagerank Centrality)
avg over all n_iter is taken; if False, median is computed.</p>
</dd>
<dt>saveGraph<span class="classifier">boolean; Should network-graph files be saved to disk or not. </span></dt><dd><p>The default is False.</p>
</dd>
<dt>cutoff: int; If number of levels in any one of the cat columns (or concatenated cat</dt><dd><p>cols) are below cutoff, ignore that cat col. (see _cleanup())</p>
</dd>
<dt>verbose<span class="classifier">int; Intensity of msgs to be displayed. Presently, this parameter may not </span></dt><dd><p>display much control over display of msg(s). The default is 3.</p>
</dd>
<dt>random_state: int; Controls the shuffling applied to the data before applying the </dt><dd><p>train_test_split. Pass an int for reproducible output across multiple 
function calls.</p>
</dd>
<dt>mapDictPath: string; Name of folder where dictionaries are kept that map existing levels</dt><dd><p>to ‘replaceby’ values.</p>
</dd>
<dt>mergelevelsincols: list of str; List of columns whose levels need to be merged through multiple</dt><dd><p>iterations. Certain large datasets have few cols with very large 
number of levels. This is a list of such columns. Presently only one
column is supported.</p>
</dd>
<dt>mergethreshold: list of floats<span class="classifier">Merge threshold levels for each column, listed in </span></dt><dd><p>mergelevelsincols</p>
</dd>
<dt>replaceby: String integer; Name of new level when multiple levels are merged. Default</dt><dd><p>‘99999’</p>
</dd>
<dt>avoidInteractionFeatures: List; For col names listed here, avoid combination with </dt><dd><p>created interaction features</p>
</dd>
<dt>multigraph: Bipartite to unipartite projection yields simple graph or multigraph.</dt><dd><p>It will yield multigraph when multigraph = True</p>
</dd>
</dl>
</section>
<section id="returns">
<h2>Returns<a class="headerlink" href="#returns" title="Permalink to this heading"></a></h2>
<p>None.</p>
</section>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'catencfamily'</span></em><a class="headerlink" href="#catencfamily.CatEncodersFamily.__module__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._calCentralityMeasures">
<span class="sig-name descname"><span class="pre">_calCentralityMeasures</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">network</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._calCentralityMeasures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._calCentralityMeasures" title="Permalink to this definition"></a></dt>
<dd><p>Called by: _genModel()
Calls    : None</p>
<section id="desc">
<h2>Desc<a class="headerlink" href="#desc" title="Permalink to this heading"></a></h2>
<p>Given a unipartite undirected network, the method
calculates centrality measures per node. Measures
calculated are: degree, eigenvector, pagerank, betweenness,
Clustering coefficient and others. Instead of clustering coef
one may specify a function object to calculate centrality measure.</p>
</section>
<section id="id1">
<h2>Parameters<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h2>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>model is an empty list that will be returned.</p></li>
<li><p>network is a unipartite undirected graph</p></li>
</ol>
</div></blockquote>
</section>
<section id="id2">
<h2>Returns<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h2>
<p>Returns one ‘model’, a list object. This list contains dictionaries
or None objects or String elements. Each dictionary has nodes as keys and
one of the centrality measure as values. Nodes belong to colToProject.
There will be as many dictionaries as centrality measures calculated.</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._calCommunities">
<span class="sig-name descname"><span class="pre">_calCommunities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">network</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colToProject</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intermediaryCol</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._calCommunities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._calCommunities" title="Permalink to this definition"></a></dt>
<dd><p>Called by: _genModel()
Calls    : None</p>
<section id="id3">
<h2>Desc<a class="headerlink" href="#id3" title="Permalink to this heading"></a></h2>
<p>The method locates communities in the unipartite network
and also calculates two community related measures: density and
avg_embeddedness. It returns 3-dictionaries. The first dict indicates 
which node falls in which community. The other two dictionaries 
contain node-wise community characteristics.
Ref: <a class="reference external" href="https://cdlib.readthedocs.io/en/latest/reference/cd_algorithms/algs/cdlib.algorithms.leiden.html#cdlib-algorithms-leiden">https://cdlib.readthedocs.io/en/latest/reference/cd_algorithms/algs/cdlib.algorithms.leiden.html#cdlib-algorithms-leiden</a></p>
</section>
<section id="id4">
<h2>Parameters<a class="headerlink" href="#id4" title="Permalink to this heading"></a></h2>
<p>network: Graph object
colToProject: string; A column name. Bottom column 
intermediaryCol: string; A column name. Top column</p>
</section>
<section id="id5">
<h2>Returns<a class="headerlink" href="#id5" title="Permalink to this heading"></a></h2>
<p>Returns three dictionaries</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._checkMissing">
<span class="sig-name descname"><span class="pre">_checkMissing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._checkMissing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._checkMissing" title="Permalink to this definition"></a></dt>
<dd><p>Called by: fit()
Calls: None</p>
<p>Does X has any missing value?
Raises an exception if it does</p>
<section id="id6">
<h2>Parameters<a class="headerlink" href="#id6" title="Permalink to this heading"></a></h2>
<p>X : pandas DataFrame</p>
</section>
<section id="id7">
<h2>Returns<a class="headerlink" href="#id7" title="Permalink to this heading"></a></h2>
<p>None.</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._checkParamsIntegrity">
<span class="sig-name descname"><span class="pre">_checkParamsIntegrity</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._checkParamsIntegrity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._checkParamsIntegrity" title="Permalink to this definition"></a></dt>
<dd><p>Called by: fit()
Calls: None</p>
<p>Checks if class parameters are correctly specified</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._cleanup">
<span class="sig-name descname"><span class="pre">_cleanup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">single_permute_list_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._cleanup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._cleanup" title="Permalink to this definition"></a></dt>
<dd><p>From every pair of columns of (colToProject,intermediaryCol),
in the list, remove that pair where number of unique values 
in colToProject are below or equalto a cutoff. default is 10.</p>
<section id="id8">
<h2>Parameters<a class="headerlink" href="#id8" title="Permalink to this heading"></a></h2>
<p>X : pandas DataFrame 
<a href="#id130"><span class="problematic" id="id131">single_permute_list_</span></a> : A list of tuples</p>
</section>
<section id="id9">
<h2>Returns<a class="headerlink" href="#id9" title="Permalink to this heading"></a></h2>
<p>mylist : A cleaned up list with some tuples removed</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._createCatPairwiseCols">
<span class="sig-name descname"><span class="pre">_createCatPairwiseCols</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._createCatPairwiseCols"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._createCatPairwiseCols" title="Permalink to this definition"></a></dt>
<dd><p>Called by: _interactionCols()
Calls    : None</p>
<section id="id10">
<h2>Desc<a class="headerlink" href="#id10" title="Permalink to this heading"></a></h2>
<p>Given a dataframe, df, and a list of categorical
columns (cat_cols), this method creates all
combinations (not permutations) of supplied columns in pair
of two). It then creates new columns in ‘df’ as
concatenation of each pair. The resulting dataframe is
returned.</p>
<p>Example; cat_cols = [var1,var2,var3]
New columns created in df: [var1_p_var2,var1_p_var3,var2_p_var3].
Existing columns continue to remain as they are.</p>
</section>
<section id="id11">
<h2>Parameters:<a class="headerlink" href="#id11" title="Permalink to this heading"></a></h2>
<p>df: pandas DataFrame</p>
</section>
<section id="id12">
<h2>Returns<a class="headerlink" href="#id12" title="Permalink to this heading"></a></h2>
<p>pandas DataFrame</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._featureEngTrainTest">
<span class="sig-name descname"><span class="pre">_featureEngTrainTest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colToProject</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intermediaryCol</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._featureEngTrainTest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._featureEngTrainTest" title="Permalink to this definition"></a></dt>
<dd><p>Called by:  _getStoreFeatures() 
calls    :  _learn, _storeModel(), _storeModelComm</p>
<section id="id13">
<h2>Desc<a class="headerlink" href="#id13" title="Permalink to this heading"></a></h2>
<p>The method calls _learn() to learn a model from ‘train’. It then 
calls _storeModel() or _storeModelComm() to save it for subsequent
use.</p>
</section>
<section id="id14">
<h2>Parameters<a class="headerlink" href="#id14" title="Permalink to this heading"></a></h2>
<dl class="simple">
<dt>train: pandas DataFrame; train dataset without target. Used to learn </dt><dd><p>and create models</p>
</dd>
<dt>colToProject: string; See project_bipartite_graph() for full desc. Also called</dt><dd><p>‘bottom’ nodes</p>
</dd>
<dt>intermediaryCol: string; See project_bipartite_graph() for full desc</dt><dd><p>Also called: ‘top’ nodes</p>
</dd>
</dl>
</section>
<section id="id15">
<h2>Returns<a class="headerlink" href="#id15" title="Permalink to this heading"></a></h2>
<p>Nothing.</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._genModel">
<span class="sig-name descname"><span class="pre">_genModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">network</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colToProject</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intermediaryCol</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._genModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._genModel" title="Permalink to this definition"></a></dt>
<dd><p>Called by: _learn()
Calls    : _calCentralityMeasures(), _calCommunities()</p>
<section id="id16">
<h2>Parameters<a class="headerlink" href="#id16" title="Permalink to this heading"></a></h2>
<p>network:  Graph object; Unipartite network after projection of bipartite network
colToProject: string; The ‘network’ contains nodes from colToProject. ‘Bottom’ nodes
intermediaryCol: string Other sets of nodes in the bipartite network; ‘Top’ nodes</p>
</section>
<section id="id17">
<h2>Returns<a class="headerlink" href="#id17" title="Permalink to this heading"></a></h2>
<p>List. A model is a list of mixed types of objects.
These objects are as follows:
model[0] to model[2]: Three dictionaries. For a projected graph, each dictionary</p>
<blockquote>
<div><p>has nodes as keys with one of the three centrality-measures
(deg,eig,pr) as values.</p>
</div></blockquote>
<dl class="simple">
<dt>model[3]<span class="classifier">Either a dictionary, if betweenness is calculated. Else, None</span></dt><dd><p>Calculation of betweenness may be time-consuming</p>
</dd>
</dl>
<p>model[4] : Either a dictionary, if clustering coeff is calcuated. Else None
model[5] to model[7]: Either 3-dictionaries having community related information. Else None
model[8] : A List: cMeasures. Not used.
model[9] : String: name of  colToProject
model[10]: String: name of  intermediaryCol</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._getCatVectors">
<span class="sig-name descname"><span class="pre">_getCatVectors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">take_mean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._getCatVectors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._getCatVectors" title="Permalink to this definition"></a></dt>
<dd><p>Calls: _getRelCols()
Calledby: vectorsToTSV()</p>
<section id="id18">
<h2>Desc<a class="headerlink" href="#id18" title="Permalink to this heading"></a></h2>
<blockquote>
<div><p>We now extract dense vectors cat-col by cat col, for every level in
the column.
Given a cat col, this method outputs for every level, corresponding
vector values. The output is in a DataFrame format where one of the 
columns is cat col with its various levels and the other columns
in the same row contain vector.</p>
</div></blockquote>
</section>
<section id="id19">
<h2>Parameters<a class="headerlink" href="#id19" title="Permalink to this heading"></a></h2>
<dl>
<dt>X<span class="classifier">pandas DataFrame. Transformed DataFrame. Transformed dataframe </span></dt><dd><p>may also have, optionaly, original cat cols.</p>
</dd>
<dt>take_mean: boolean. As a level value may be occurring many</dt><dd><blockquote>
<div><p>times under any cat col(say, ‘app’), to create a final
transformtion vector should a mean of all vectors  
for each levelbe taken or not. Default is False.</p>
<p>Example:
This is the the transformed dataset but also having
original cat cols along with transformed numeric cols.
Columns have been rearranged so that numeric cols 
that correspond to a cat-col, say, app, are next to it.</p>
</div></blockquote>
<dl>
<dt>index     app  deg_app_ck..   <a href="#id132"><span class="problematic" id="id133">pr_app_ck_</span></a>…   eig_app_ck… </dt><dd><blockquote>
<div><blockquote>
<div><p>0      213   0.10           0.20             0.11
1      214   0.45           0.18             0.22
..     …   …            …               …
..     …   …            …               …</p>
</div></blockquote>
<dl class="simple">
<dt>1456    213   0.101          0.20             0.10</dt><dd></dd>
</dl>
</div></blockquote>
<p>For level 213 of ‘app’ col, we have two vectors: [0.10,0.20,0.11]
and [0.101,0.20,0.10] at different index positions. 
We call them dense vectors. When normalized (along rows) 
using l2 norm, we call them unitvectors. If take_mean is True, 
a final vector for each level of ‘app’ (say, 213) would be 
calculated by taking mean of these vectors. This fnal vector 
cane be used in Embedding Projector for plotting and displaying 
relationship among levels of a catcol</p>
</dd>
</dl>
</dd>
</dl>
</section>
<section id="id20">
<h2>Returns<a class="headerlink" href="#id20" title="Permalink to this heading"></a></h2>
<blockquote>
<div><p>A dictionary with keys as column names in cat_cols. For every key,
in the dict (say, ‘app’)’, value is a dataframe. The dataframe’s
first column is a cat col (same as the dict key, say, ‘app’).
Other columns map each level in this column (‘app’) to difft 
derived centrality measures (that, together, we call as unitvectors).
It is possible that same level may have different vectors at
different row positions.</p>
</div></blockquote>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._getRelCols">
<span class="sig-name descname"><span class="pre">_getRelCols</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cols</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._getRelCols"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._getRelCols" title="Permalink to this definition"></a></dt>
<dd><p>Calls: None
Calledby: _getCatVectors()</p>
<section id="id21">
<h2>Desc<a class="headerlink" href="#id21" title="Permalink to this heading"></a></h2>
<blockquote>
<div><p>Gets related numeric columns. We started with a dataframe 
with a number of categorical features. These categorical 
features were transformed into dense vectors through our model 
formation process. We now intend to extract subset of dense vectors 
for each one of these cat features in a dictionary format. But 
before that we have to answer the question: for a specifc 
cat column, which of the columns among the transformed data 
constitute the dense veactors representing it.</p>
<p>This method returns lists of cols that constitute dense vectors
for each one of cat cols, such as: app, ip etc For example, 
cols related to feature app could be:</p>
<p>[‘deg_app_ck_channel’,’deg_app_ck_device’,’deg_app_ck_ip’, ‘deg_app_ck_os’…]</p>
<p>but not:</p>
<p>[pr_app_p_os_ck_ip, deg_app_p_channel_ck_os.. ],</p>
<p>as here we have concatenated cols (app,os) and (app,channel).</p>
</div></blockquote>
</section>
<section id="id22">
<h2>Parameters:<a class="headerlink" href="#id22" title="Permalink to this heading"></a></h2>
<dl class="simple">
<dt>cols: list; List of all the columns in the model: orig_cat + engineered</dt><dd><p>Typically: list(train_trans.columns)</p>
</dd>
</dl>
</section>
<section id="id23">
<h2>Returns<a class="headerlink" href="#id23" title="Permalink to this heading"></a></h2>
<p>List of columns that constitute dense vectors for each one of
the cat cols such as: app, ip,channel, etc.</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._getSample">
<span class="sig-name descname"><span class="pre">_getSample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._getSample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._getSample" title="Permalink to this definition"></a></dt>
<dd><p>Called by: fit()
Calls: None</p>
<section id="id24">
<h2>Desc<a class="headerlink" href="#id24" title="Permalink to this heading"></a></h2>
<p>Return stratified samples of size sampsize
df, pandas dataframe.</p>
</section>
<section id="id25">
<h2>Parameters<a class="headerlink" href="#id25" title="Permalink to this heading"></a></h2>
<p>df : pandas DataFrame
y: pandas Series; Target</p>
</section>
<section id="id26">
<h2>Returns<a class="headerlink" href="#id26" title="Permalink to this heading"></a></h2>
<p>A stratified sample of the dataframe</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._getStoreFeatures">
<span class="sig-name descname"><span class="pre">_getStoreFeatures</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record_sets</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._getStoreFeatures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._getStoreFeatures" title="Permalink to this definition"></a></dt>
<dd><p>Called by: fit()
Calls    : _featureEngTrainTest()</p>
<section id="id27">
<h2>Desc<a class="headerlink" href="#id27" title="Permalink to this heading"></a></h2>
<p>The method invokes method _featureEngTrainTest() to transform train
cat features to dense vectors (float).</p>
</section>
<section id="id28">
<h2>Parameters<a class="headerlink" href="#id28" title="Permalink to this heading"></a></h2>
<dl>
<dt>train: pandas DataFrame. It  is the dataset from which, at a time, a pair </dt><dd><p>of cat-features is taken, and then levels from one of the 
two cat features (say, the first) are mapped to dense vectors.</p>
<p>A transformation dictionary (also called transformation model) 
is created that records levels-to-vectors transformation.</p>
<p>The transformation-model has levels as row-indicies. This model 
is then applied to both train and test.</p>
</dd>
<dt>record_sets: list. It is a list of tuples. For iris dataset, assuming, </dt><dd><blockquote>
<div><blockquote>
<div><p>all 4 features are discrete, it could be something as:</p>
</div></blockquote>
<dl class="simple">
<dt>[ </dt><dd><p>(‘sep_len’, ‘sep_wd’,  [1, 1, 1, 0, None,0,0 ]),
(‘sep_len’, ‘pet_len’, [1, 1, 1, 0, None,0,0 ]),
(‘sep_len’, ‘pet_wd’,  [1, 1, 1, 0, None,0,0 ]),
(‘sep_wd’,  ‘sep_len’, [1, 1, 1, 0, None,0,0 ]),
(‘sep_wd’,  ‘pet_len’, [1, 1, 1, 0, None,0,0 ]),
(‘sep_wd’,  ‘pet_wd’,  [1, 1, 1, 0, None,0,0 ]),
(‘pet_len’, ‘sep_len’, [1, 1, 1, 0, None,0,0 ]),
(‘pet_len’, ‘sep_wd’,  [1, 1, 1, 0, None,0,0 ]),
(‘pet_len’, ‘pet_wd’,  [1, 1, 1, 0, None,0,0 ]),
(‘pet_wd’,  ‘sep_len’, [1, 1, 1, 0, None,0,0 ]),
(‘pet_wd’,  ‘sep_wd’,  [1, 1, 1, 0, None,0,0 ]),
(‘pet_wd’,  ‘pet_len’, [1, 1, 1, 0, None,0,0 ])</p>
</dd>
</dl>
</div></blockquote>
<p>]</p>
</dd>
</dl>
<p>Third element in every tuple is cMeasures. Why? When we had only
functions and no python Class, we needed this IIIrd element.
Presently this is redundant.</p>
</section>
<section id="id29">
<h2>Returns<a class="headerlink" href="#id29" title="Permalink to this heading"></a></h2>
<p>Returns nothing. Keeps dictionaries in RAM or Saves models to disk.</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._interactionCols">
<span class="sig-name descname"><span class="pre">_interactionCols</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._interactionCols"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._interactionCols" title="Permalink to this definition"></a></dt>
<dd><p>Called by: fit()
Calls:     _createCatPairwiseCols()</p>
<section id="id30">
<h2>Parameters<a class="headerlink" href="#id30" title="Permalink to this heading"></a></h2>
<p>X       : pandas DataFrame
catCols : list of Categorical columns 
interactingCatCols : list of categorical columns that</p>
<blockquote>
<div><p>will be concatenated to produce new columns</p>
</div></blockquote>
<p>interaction  : boolean. Should there be interaction. 
noOfColsToConcat : int; At a time noOfColsToConcat columns will</p>
<blockquote>
<div><p>get concatenated. The default is 2.</p>
</div></blockquote>
</section>
<section id="id31">
<h2>Returns<a class="headerlink" href="#id31" title="Permalink to this heading"></a></h2>
<p>X        : pandas dataframe with additional cols created
new_cols : list of new column names.</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._learn">
<span class="sig-name descname"><span class="pre">_learn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colToProject</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intermediaryCol</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._learn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._learn" title="Permalink to this definition"></a></dt>
<dd><p>Called by : _featureEngTrainTest()
Calls     : _toNetwork(), _projectBipartiteGraph(), _genModel()</p>
<section id="id32">
<h2>Parameters<a class="headerlink" href="#id32" title="Permalink to this heading"></a></h2>
<dl class="simple">
<dt>colToProject &amp; ‘intermediaryCol’: </dt><dd><p>string; Create a bipartite network from two columns of a DataFrame, ‘df’.
Columns are ‘colToProject’ &amp; ‘intermediaryCol’. We may also
call them as ‘bottom’ column and ‘top’ column</p>
</dd>
</dl>
</section>
<section id="id33">
<h2>Desc<a class="headerlink" href="#id33" title="Permalink to this heading"></a></h2>
<blockquote>
<div><p>_learn() first calls _toNetwork() and then _projectBipartiteGraph
to build a projected, unweighted, unipartite network. It then calls
_genModel(). And _genModel() calls _calCentralityMeasures() &amp;
_calCommunities() to generate and store models.</p>
<p>The method transforms the bipartite network to unipartite network.
Builds a ‘model’ object of centrality measures. To know more about
the ‘model’ object, see help under _genModel().
The method also stores our graph related performance data
in file “networkPerformanceData.csv”.</p>
</div></blockquote>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._levelsTransformer">
<span class="sig-name descname"><span class="pre">_levelsTransformer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._levelsTransformer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._levelsTransformer" title="Permalink to this definition"></a></dt>
<dd><p>Calls: _load_dict_from_file(), _mergeRareLevels(), _save_dict_to_file()
Called by: _getSample()</p>
<section id="id34">
<h2>Parameters<a class="headerlink" href="#id34" title="Permalink to this heading"></a></h2>
<p>df: Dataframe under consideration
feature: Column whose levels are to be reduced
thresholdValue_count: If integer, keep only those levels whose value_count</p>
<blockquote>
<div><p>exceeds this number. If float, keep only those levels
whose percentages are above this value.</p>
</div></blockquote>
<dl class="simple">
<dt>mapdictpath<span class="classifier">Dictionary which stores mapping between existing levels</span></dt><dd><p>and new levels.</p>
</dd>
<dt>action: The value determines how an integer thresholdValue_count will be </dt><dd><p>interpreted: Either permit those levels whose value_counts() exceed
this value (action = False) or set max number of unique levels
to this value (action = True).</p>
</dd>
</dl>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this heading"></a></h2>
<p>X =  utils.levelsTransformer(X, ‘ip’,mergethreshold, mapdictpath, action)
Returns
——
Returns DataFrame with reduced levels for ‘feature’ column</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._loadStoredModels">
<span class="sig-name descname"><span class="pre">_loadStoredModels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">avg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._loadStoredModels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._loadStoredModels" title="Permalink to this definition"></a></dt>
<dd><p>Called by: transform()
Calls: _readAllStoredModels()</p>
<section id="id35">
<h2>Parameters<a class="headerlink" href="#id35" title="Permalink to this heading"></a></h2>
<dl class="simple">
<dt>df<span class="classifier">pandas DataFrame; ‘train’ dataframe. Column names MUST BE </span></dt><dd><p>alphabetical only.</p>
</dd>
</dl>
<p>avg         : boolean; Take an average of stored values. See Explanation.</p>
</section>
<section id="explanation">
<h2>Explanation<a class="headerlink" href="#explanation" title="Permalink to this heading"></a></h2>
<blockquote>
<div><p>This method reads all dictionaries or <a href="#id36"><span class="problematic" id="id37">*</span></a>.pkl files saved on disk.
in folder modelsPath.  
When n_iter &gt; 1, fFor every, colToProject, it averages 
out all encoded values (created iteration-by-iteration) and then merges
with df by adding a column to it.</p>
</div></blockquote>
<p>Example:
Here are sample contents of a .pkl file ‘deg_app_ck_app_p_channel’:</p>
<blockquote>
<div><p>3744_5     7823_4   8167_3    9543_2         deg_app_ck_app_p_channel</p>
</div></blockquote>
<p>app
27       0.0         0.0    0.7      0.13            0.21
0        0.1         0.0    0.2      0.15            0.11
57       0.0         0.3    0.5      0.17            0.01
303      0.0         0.0    0.0      0.00            0.05
125      0.1         0.2    0.0      0.10            0.34
…      …    …  …   …     ….           ……
41       NaN         0.0    NaN      0.0             0.0
207      NaN         0.0    0.1      0.0             0.1
222      NaN         0.0    NaN      0.2             0.0
381      NaN         0.0    NaN      NaN             0.0
168      NaN         0.0    NaN      NaN             0.3</p>
<p>204 rows × 20 columns</p>
<p>‘deg’ both in filename as also last col name (‘deg_app_ck_app_p_channel’)
implies that this file stores degree entrality measure for a unipartite
network obtained by projecting a bipartite graph of ‘app’ and ‘app_p_channel’.
‘app_p_channel’ indicates concatenation of two columns: ‘app’ &amp; channel in
the dataset (df). 
Projection is of ‘app’ nodes. The index of the read <a href="#id38"><span class="problematic" id="id39">*</span></a>.pkl file contains
levels of ‘app’ nodes.
During each iteration, we have a different sample and a different
projected graph. Thus, degrees of a node may differ from iteration
to iteration. Each row contains degree of a particular node and each
column has values of degrees for some iteration sample.
Column name 9543_2 means this model was created on IInd iteration.
This file contains models from six iterations.
Dataframe index name ‘app’ is ‘colToProject’.
The method takes row-wise averages resulting in one column. The averaged
column is named as deg_app_ck_app_p_channel. Index, ‘app’ is also made a col
We now have a dataFrame of two columns that maps colToProject (‘app’)
to ‘degree’ values (deg_app_ck_app_p_channel).
If the averaged column is not a constant (all zeros, for example), this new
column is merged with train/test dataframe. Merging is on colToProject (‘app’).</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._load_dict_from_file">
<span class="sig-name descname"><span class="pre">_load_dict_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._load_dict_from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._load_dict_from_file" title="Permalink to this definition"></a></dt>
<dd><p>Called by: _updateLevels(), _levelsTransformer() 
Returns dictionary saved into a pickle file: ‘filename’</p>
<blockquote>
<div><p>‘filename’ is in folder ‘pathToFile’.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._mergeRareLevels">
<span class="sig-name descname"><span class="pre">_mergeRareLevels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapdict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._mergeRareLevels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._mergeRareLevels" title="Permalink to this definition"></a></dt>
<dd><p>Called by: self._levelsTransformer()</p>
<section id="id40">
<h2>Desc<a class="headerlink" href="#id40" title="Permalink to this heading"></a></h2>
<p>A mapdict is a dictionary where ‘key’ is old_level
name and value is the new level name (‘99999’).
For a level which has high occurrenceThreshold,
both ‘key’ and ‘value’ would be same. If no earlier
mapdict exist:</p>
<blockquote>
<div><p>In df[colName] merge all those level-names
by ‘replaceby’ whose total count is less
than or equal to occurrenceThreshold. A
new model created and returned.</p>
</div></blockquote>
<dl class="simple">
<dt>If a mapdict already exists:</dt><dd><p>the mapdict is updated only to the extent
of new key. if an existing key in the existing
mapdict now is to get a new value, that updation
is NOT carried out.</p>
</dd>
</dl>
</section>
<section id="id41">
<h2>Parameters<a class="headerlink" href="#id41" title="Permalink to this heading"></a></h2>
<p>df: DataFrame
colName: Columns whose levels are to be examined for rareness
occurrenceThreshold: This decides if a level is rare and be merged
mapdict: Mapping of actual levels with merged levels
action: The value determines how an integer occurrenceThreshold will be</p>
<blockquote>
<div><p>interpreted: Either permit those levels whose value_counts() exceed
this value (action = False) or set max number of unique levels
to this value (action = True).</p>
</div></blockquote>
</section>
<section id="id42">
<h2>Returns<a class="headerlink" href="#id42" title="Permalink to this heading"></a></h2>
<p>mapdict and dataframe modified as per the mapdict.</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._permuteColList">
<span class="sig-name descname"><span class="pre">_permuteColList</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">colNamesList</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._permuteColList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._permuteColList" title="Permalink to this definition"></a></dt>
<dd><p>Called by: fit()
Calls    : None</p>
<section id="id43">
<h2>Desc<a class="headerlink" href="#id43" title="Permalink to this heading"></a></h2>
<p>Given a list of columnnames (colNamesList), the
method creates tuples after permuting column names
‘n’ at a time. Presently n = 2 is only supported.</p>
<dl>
<dt>Example: </dt><dd><blockquote>
<div><p>colNamesList = [“C1”, “C2”, “C3”]
Return list is: [(“C1”, “C2”, cMeasures),</p>
<blockquote>
<div><p>(“C2”, “C1”, cMeasures),…]</p>
</div></blockquote>
</div></blockquote>
<p>Including cMeasures in the tuple is a relic from
the past when we had only functions and no python
Class.</p>
</dd>
</dl>
</section>
<section id="id44">
<h2>Parameters<a class="headerlink" href="#id44" title="Permalink to this heading"></a></h2>
<dl class="simple">
<dt>colNamesList: A list of DataFrame columns to be permuted</dt><dd><dl class="simple">
<dt>n: int; n-length tuples, all possible orderings, </dt><dd><p>no repeated elements</p>
</dd>
</dl>
</dd>
</dl>
</section>
<section id="id45">
<h2>Returns:<a class="headerlink" href="#id45" title="Permalink to this heading"></a></h2>
<p>A list of permuted column names</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._projectBipartiteGraph">
<span class="sig-name descname"><span class="pre">_projectBipartiteGraph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bi_network</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colToProject</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._projectBipartiteGraph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._projectBipartiteGraph" title="Permalink to this definition"></a></dt>
<dd><p>Called by:  _learn()
Calls    :  None</p>
<section id="id46">
<h2>Desc<a class="headerlink" href="#id46" title="Permalink to this heading"></a></h2>
<p>Bipartitie Projection: Projection is a common operation for bipartite
graphs that converts a bipartite graph into a regular graph. There are
two types of projections: top and bottom projections. Top projection
preserves only top nodes in the result graph and creates a link between
them in a new graph only if there is an intermediate bottom node both
top nodes connect to in the original graph. Bottom projection is the
opposite to top projection, i.e. only preserves bottom nodes and connects
a pair of nodes if they are connected in the original graph.
Our terminlogy for the two types of node-sets are: colToProject &amp;
intermediaryCol. After the projection only nodes of colToProject are
preserved and edges between them are created as mentioned before.
The method projects a bipartite ‘bi_network’ to unipartite network.
colToProject nodes are projected. Unipartite network has only
df[colToProject] nodes. The operation is time consuming as also
RAM consuming.
For more information on the problem, see this link:</p>
<blockquote>
<div><p><a class="reference external" href="https://datascience.stackexchange.com/a/87232">https://datascience.stackexchange.com/a/87232</a></p>
</div></blockquote>
</section>
<section id="id47">
<h2>Parameters<a class="headerlink" href="#id47" title="Permalink to this heading"></a></h2>
<p>bi_network: A bipartite graph object
colToProject: String; Column to be projected into graph. Bottom col</p>
</section>
<section id="id48">
<h2>Returns<a class="headerlink" href="#id48" title="Permalink to this heading"></a></h2>
<p>A unipartite graph object</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._readAllStoredModels">
<span class="sig-name descname"><span class="pre">_readAllStoredModels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._readAllStoredModels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._readAllStoredModels" title="Permalink to this definition"></a></dt>
<dd><p>Called by: _loadStoredModels()
Calls: None</p>
<section id="id49">
<h2>Returns<a class="headerlink" href="#id49" title="Permalink to this heading"></a></h2>
<p>A list each element of which is a pandas DataFrame</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._reduceMemUsage">
<span class="sig-name descname"><span class="pre">_reduceMemUsage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fromIndex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._reduceMemUsage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._reduceMemUsage" title="Permalink to this definition"></a></dt>
<dd><p>Called by: transform()
Calls: None</p>
<section id="id50">
<h2>Desc<a class="headerlink" href="#id50" title="Permalink to this heading"></a></h2>
<p>The method changes data types from float64 to float32
of all features of DataFrame, data, from 
column index: ‘fromIndex’</p>
</section>
<section id="id51">
<h2>Parameters<a class="headerlink" href="#id51" title="Permalink to this heading"></a></h2>
<p>data: pandas dataframe
fromIndex: int; Transform to float32 from column index fromIndex</p>
</section>
<section id="id52">
<h2>Returns<a class="headerlink" href="#id52" title="Permalink to this heading"></a></h2>
<p>Returns complete pandas dataframe with datatypes changed</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._saveGraphToDisk">
<span class="sig-name descname"><span class="pre">_saveGraphToDisk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colToProject</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intermediaryCol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modelsPath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bipartite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._saveGraphToDisk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._saveGraphToDisk" title="Permalink to this definition"></a></dt>
<dd><p>Called by: _learn()
Calls: None</p>
<section id="id53">
<h2>Desc<a class="headerlink" href="#id53" title="Permalink to this heading"></a></h2>
<p>Saves unipartite and bipartite graphs to disk in gml format</p>
</section>
<section id="id54">
<h2>Parameters<a class="headerlink" href="#id54" title="Permalink to this heading"></a></h2>
<p>G : Graph object
colToProject : string. cat column being projected
intermediaryCol : string. cat column with which</p>
<blockquote>
<div><p>bipartite graph is constructed.</p>
</div></blockquote>
<dl class="simple">
<dt>modelsPath<span class="classifier">string. If None, then</span></dt><dd><p>default is self.modelsPath</p>
</dd>
<dt>bipartite: boolean; Is the graph object G bipartite </dt><dd><p>or unipartite</p>
</dd>
</dl>
</section>
<section id="id55">
<h2>Returns<a class="headerlink" href="#id55" title="Permalink to this heading"></a></h2>
<p>None.</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._save_dict_to_file">
<span class="sig-name descname"><span class="pre">_save_dict_to_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._save_dict_to_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._save_dict_to_file" title="Permalink to this definition"></a></dt>
<dd><p>Called by: levelsTransformer()
Given a dictionary and ‘filename’,
saves dict as a .pkl file at
folder: pathToFile.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._storeModel">
<span class="sig-name descname"><span class="pre">_storeModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._storeModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._storeModel" title="Permalink to this definition"></a></dt>
<dd><p>Called by: _featureEngTrainTest()
Calls    : None</p>
<section id="id56">
<h2>Parameters<a class="headerlink" href="#id56" title="Permalink to this heading"></a></h2>
<dl class="simple">
<dt>model: list; Appends, at each call, one dict to ‘model’. Else, saves</dt><dd><p>at each call one DataFrame to disk as .pkl file. When n_iter = 1
‘model’ is a list of dictionaries . Each dict has levels of a cat
column as keys and one of the centality measure as value.
Each dictionary maybe transformed to a dataframe and then saved
to disk as a pkl file. For more information, please see under 
_genModel().</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._storeModelComm">
<span class="sig-name descname"><span class="pre">_storeModelComm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._storeModelComm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._storeModelComm" title="Permalink to this definition"></a></dt>
<dd><p>Called by: _featureEngTrainTest()
Calls    : None</p>
<section id="id57">
<h2>Parameters<a class="headerlink" href="#id57" title="Permalink to this heading"></a></h2>
<dl class="simple">
<dt>model:  list; This object is a list of dictionaries.</dt><dd><p>For more information, please see
under _genModel(). Each dictionary
is saved as a dataframe in a pkl file.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._toNetwork">
<span class="sig-name descname"><span class="pre">_toNetwork</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colToProject</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intermediaryCol</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._toNetwork"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._toNetwork" title="Permalink to this definition"></a></dt>
<dd><p>Called by : _learn()
Calls     : None</p>
<section id="id58">
<h2>Desc<a class="headerlink" href="#id58" title="Permalink to this heading"></a></h2>
<p>Given a datafarme, df, with two columns, colToProject
and intermediaryCol, create a bipartite undirected network.
Values in both the columns serve as labels for two kinds of nodes.
Network has two kinds of nodes: one category comprises labels
in colToProject and the other set comprises labels in
intermediaryCol. Every tuple in the DataFrame (colToProject,intermediaryCol)
is an edge connecting the two kinds of nodes.
(This situation contrasts with dataframe having two columns but nodes</p>
<blockquote>
<div><p>in the two columns are of same kind.)</p>
</div></blockquote>
<p>Before creating bipartite graph, dtypes of both colToProject and 
intermediaryCol are transformed to string types.</p>
</section>
<section id="id59">
<h2>Parameters<a class="headerlink" href="#id59" title="Permalink to this heading"></a></h2>
<p>df: pandas DataFrame
colToProject: string; This column holds nodes for the graph. ‘Bottom’ col
intermediaryCol: string; This column holds another set of nodes for graph</p>
<blockquote>
<div><p>‘Top’ column. See project_bipartite_graph() for full desc</p>
</div></blockquote>
</section>
<section id="id60">
<h2>Returns<a class="headerlink" href="#id60" title="Permalink to this heading"></a></h2>
<p>A bipartite graph object with two kinds of nodes</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily._updateLevels">
<span class="sig-name descname"><span class="pre">_updateLevels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily._updateLevels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily._updateLevels" title="Permalink to this definition"></a></dt>
<dd><section id="id61">
<h2>Desc<a class="headerlink" href="#id61" title="Permalink to this heading"></a></h2>
<blockquote>
<div><p>Given a set of saved dictionaries, that map Existing
column levels (keys in the dict) to new levels (values
in the dict), this function updates DataFrame column
values (levels) as per the mapping specified in the
correspondng keys of dict.</p>
</div></blockquote>
</section>
<section id="id62">
<h2>Parameters:<a class="headerlink" href="#id62" title="Permalink to this heading"></a></h2>
<blockquote>
<div><p>df: Pandas dataframe</p>
</div></blockquote>
</section>
<section id="id63">
<h2>Returns<a class="headerlink" href="#id63" title="Permalink to this heading"></a></h2>
<blockquote>
<div><p>Dataframe after column levels have been replaced by
a given mapping as specified in a file in  mapDictPath</p>
</div></blockquote>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cat_cols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interactingCatCols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily.fit" title="Permalink to this definition"></a></dt>
<dd><p>Called by: None
Calls: _checkMissing(), _checkParamsIntegrity(), _interactionCols()</p>
<blockquote>
<div><p>_permuteColList(), _cleanup(), _getSample(), _getStoreFeatures()</p>
</div></blockquote>
<section id="id64">
<h2>Parameters<a class="headerlink" href="#id64" title="Permalink to this heading"></a></h2>
<p>X : pandas DataFrame; X is a dataframe having only cat_cols
cat_cols : list; Categorical columns to be considered</p>
<blockquote>
<div><p>Categorical column names MUST ONLY have
a-zA-Z characters; no underscore etc</p>
</div></blockquote>
<dl class="simple">
<dt>interactingCatCols<span class="classifier">list; Cat columns that will interact</span></dt><dd><p>to make new columns. Interaction
of two cat columns, x and y would
produce a new cat column x_p_y
with corrresponding levels of both 
concatenated row-by-row.</p>
</dd>
<dt>y<span class="classifier">numpy array or pandas Series. Target feature. </span></dt><dd><p>Needed to get stratified sample when 
sampsize &lt; 1. Ignored when n_iter = 1</p>
</dd>
</dl>
</section>
<section id="id65">
<h2>Returns<a class="headerlink" href="#id65" title="Permalink to this heading"></a></h2>
<p>Class object</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily.plotNetworkGraph">
<span class="sig-name descname"><span class="pre">plotNetworkGraph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graphfilename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">withLabels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontSize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(10,</span> <span class="pre">5)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connected_nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily.plotNetworkGraph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily.plotNetworkGraph" title="Permalink to this definition"></a></dt>
<dd><p>Calls: None
Called by: main() when needed</p>
<section id="id66">
<h2>Desc<a class="headerlink" href="#id66" title="Permalink to this heading"></a></h2>
<p>Plot network graph generated by the class-instance (when self.saveGraph is True).</p>
</section>
<section id="id67">
<h2>Parameters<a class="headerlink" href="#id67" title="Permalink to this heading"></a></h2>
<p>graphfilename : string; graph filename saved earlier by class-instance
k       : int; For spring layout, this is optimal distance between nodes. None</p>
<blockquote>
<div><p>implies k=1.</p>
</div></blockquote>
<p>withLabels: boolean. Should node labels be displayed
fontSize: int; Label font size when displayed
filepath : string; Folder where file is placed. Default location is where</p>
<blockquote>
<div><p>the class-instance saved the file. Optional.</p>
</div></blockquote>
<p>figsize : tuple. The default is (10,5).
connected_nodes : boolean, optional, default is True.</p>
<blockquote>
<div><p>Should all nodes be plotted or only
connected nodes be plotted</p>
</div></blockquote>
</section>
<section id="id68">
<h2>Returns<a class="headerlink" href="#id68" title="Permalink to this heading"></a></h2>
<p>None.</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily.transform">
<span class="sig-name descname"><span class="pre">transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily.transform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily.transform" title="Permalink to this definition"></a></dt>
<dd><p>Called by: main()
Calls:  _interactionCols(), _loadStoredModels(), _reduceMemUsage()</p>
<section id="id69">
<h2>Parameters<a class="headerlink" href="#id69" title="Permalink to this heading"></a></h2>
<p>X : pandas DataFrame having only cat cols
y : numpy array or pandas Series.Target feature.</p>
<blockquote>
<div><p>The default is None.</p>
</div></blockquote>
</section>
<section id="id70">
<h2>Returns<a class="headerlink" href="#id70" title="Permalink to this heading"></a></h2>
<p>X : Transformed DataFrame along with original cat columns.</p>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="catencfamily.CatEncodersFamily.vectorsToTSV">
<span class="sig-name descname"><span class="pre">vectorsToTSV</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">take_mean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">saveVectorsToDisk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">impute</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fnamesuffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/catencfamily.html#CatEncodersFamily.vectorsToTSV"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#catencfamily.CatEncodersFamily.vectorsToTSV" title="Permalink to this definition"></a></dt>
<dd><p>Calls: _getCatVectors()
Called by: main() when needed</p>
<section id="id71">
<h2>Desc<a class="headerlink" href="#id71" title="Permalink to this heading"></a></h2>
<p>This method transforms the vector dataframe of _getCatVectors()
to two tsv files (per cat column) for uploading in tensorflow’s
‘Embedding Projector’. One tsv file (say, app.tsv) has vectors :
Example of file with 3-unitvectors with dimension 4:</p>
<blockquote>
<div><p>0.1  0.2     0.5     0.9
0.2  0.1     5.0     0.2
0.4  0.1     7.0     0.8</p>
</div></blockquote>
<p>The other tsv file (say, ‘app_meta,tsv’) is a file having metadata,
as:</p>
<blockquote>
<div><dl class="simple">
<dt>label       color</dt><dd><p>221       0
234       1
316       0
302       0</p>
</dd>
</dl>
</div></blockquote>
<p>Labels are levels of cat col (say, ‘app’) and ‘color’
has’target’ values. No further processing is required for 
uploading to Embedding Projector.</p>
</section>
<section id="id72">
<h2>Parameters<a class="headerlink" href="#id72" title="Permalink to this heading"></a></h2>
<dl class="simple">
<dt>X<span class="classifier">pandas DataFrame. Transformed DataFrame with transformed cols </span></dt><dd><p>and also original columns (same as in cat_cols). It 
should also contain target column with name as ‘target’.</p>
</dd>
<dt>take_mean: boolean. For details, see help under _getCatVectors(). </dt><dd><p>If False, then the meta tsv file also has a second 
column, ‘color’, having ‘target’ column values for 
coloring points in the Embeddinng Projector.
Default is False.</p>
</dd>
</dl>
<p>saveVectorsToDisk: boolean; Save tsv files to disk?  Default is True.</p>
<dl class="simple">
<dt>filepath<span class="classifier">string; Folder where two tsv files corresponding to each </span></dt><dd><p>cat column will be saved. If None, it is pathToStoreProgress.
Default is None.</p>
</dd>
<dt>impute: boolean; Imputes X with median strategy and outputs impute model</dt><dd><p>for future use. If False,</p>
</dd>
</dl>
<p>fnamesuffix: str; A suffix to be added to tsv filenames</p>
</section>
<section id="id73">
<h2>Returns<a class="headerlink" href="#id73" title="Permalink to this heading"></a></h2>
<p>Outputs two objects: One, a dictionary with keys as cat cols and values as corresponding 
DataFrames and the other an Impute model (or None).
Example:</p>
<blockquote>
<div><dl class="simple">
<dt>Our input DataFrame has four rows:</dt><dd><dl class="simple">
<dt>‘app’     ‘ip’     ‘os’</dt><dd><p>203       198      4
202       199      3
205       198      4
203       200     10</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p>vec_dict[‘app’]</p>
<blockquote>
<div><p><a href="#id134"><span class="problematic" id="id135">deg_</span></a>    <a href="#id136"><span class="problematic" id="id137">pr_</span></a>   <a href="#id138"><span class="problematic" id="id139">clu_</span></a></p>
</div></blockquote>
<p>row 1   0.05    0.8    0.34 
row 2   0.003   0.78   0.45
row 3   0.33    0.32   0.17
row 4   0.051   0.79   0.34  (very similar to row 1)</p>
<p>When take_mean = True then output dataframe has 3-rows
and mean of row1 and row4 are taken to represent
the corresponding level.</p>
<p>In the meta data, ‘label’ column will store row-wise ‘app’
values, ie:</p>
<blockquote>
<div><p>203
202
205
203</p>
</div></blockquote>
</section>
</dd></dl>

</dd></dl>

<table class="autosummary longtable docutils align-default">
<tbody>
</tbody>
</table>
</section>
<section id="module-utils">
<span id="utils-module"></span><h1>Utils Module<a class="headerlink" href="#module-utils" title="Permalink to this heading"></a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="utils.addStatsCols">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">addStatsCols</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#addStatsCols"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.addStatsCols" title="Permalink to this definition"></a></dt>
<dd><p>Given a dataframe with all numeric features,
this function creates more numeric features,
row-wise, as: std, mean, median,min, max
and kurtosis. Returns modified dataFrame.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.binFeatures">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">binFeatures</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#binFeatures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.binFeatures" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.bootstrapSample">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">bootstrapSample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#bootstrapSample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.bootstrapSample" title="Permalink to this definition"></a></dt>
<dd><section id="id74">
<h2>Desc<a class="headerlink" href="#id74" title="Permalink to this heading"></a></h2>
<p>Return bootstrap samples of
df, pandas dataframe.
Parameters
———-
df : Pandas DataFrame</p>
</section>
<section id="id75">
<h2>Returns<a class="headerlink" href="#id75" title="Permalink to this heading"></a></h2>
<p>A bootstrap sample of the dataframe</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.calMIScores">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">calMIScores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#calMIScores"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.calMIScores" title="Permalink to this definition"></a></dt>
<dd><section id="id76">
<h2>Desc<a class="headerlink" href="#id76" title="Permalink to this heading"></a></h2>
<p>Calculates mutual information scores when target
is discrete.</p>
</section>
<section id="id77">
<h2>Parameters<a class="headerlink" href="#id77" title="Permalink to this heading"></a></h2>
<p>X : Pandas DataFrame 
y : An array or Series; target</p>
</section>
<section id="id78">
<h2>Returns<a class="headerlink" href="#id78" title="Permalink to this heading"></a></h2>
<p>mi_scores : Pandas Series (sorted)</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.communityVisualization">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">communityVisualization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">filename,</span> <span class="pre">pathToFolder,</span> <span class="pre">algo=&lt;function</span> <span class="pre">greedy_modularity_communities&gt;,</span> <span class="pre">ax=None,</span> <span class="pre">title=None,</span> <span class="pre">withLabels=False,</span> <span class="pre">font_size=8,</span> <span class="pre">edgewidth=0.1,</span> <span class="pre">node_size=None,</span> <span class="pre">k=None,</span> <span class="pre">colorList=['orange',</span> <span class="pre">'yellow',</span> <span class="pre">'cyan',</span> <span class="pre">'green',</span> <span class="pre">'red',</span> <span class="pre">'purple',</span> <span class="pre">'orange',</span> <span class="pre">'yellow',</span> <span class="pre">'cyan',</span> <span class="pre">'green',</span> <span class="pre">'red',</span> <span class="pre">'purple',</span> <span class="pre">'orange',</span> <span class="pre">'yellow',</span> <span class="pre">'cyan',</span> <span class="pre">'green',</span> <span class="pre">'red',</span> <span class="pre">'purple',</span> <span class="pre">'orange',</span> <span class="pre">'yellow',</span> <span class="pre">'cyan',</span> <span class="pre">'green',</span> <span class="pre">'red',</span> <span class="pre">'purple',</span> <span class="pre">'orange',</span> <span class="pre">'yellow',</span> <span class="pre">'cyan',</span> <span class="pre">'green',</span> <span class="pre">'red',</span> <span class="pre">'purple',</span> <span class="pre">'orange',</span> <span class="pre">'yellow',</span> <span class="pre">'cyan',</span> <span class="pre">'green',</span> <span class="pre">'red',</span> <span class="pre">'purple',</span> <span class="pre">'orange',</span> <span class="pre">'yellow',</span> <span class="pre">'cyan',</span> <span class="pre">'green',</span> <span class="pre">'red',</span> <span class="pre">'purple',</span> <span class="pre">'orange',</span> <span class="pre">'yellow',</span> <span class="pre">'cyan',</span> <span class="pre">'green',</span> <span class="pre">'red',</span> <span class="pre">'purple',</span> <span class="pre">'orange',</span> <span class="pre">'yellow',</span> <span class="pre">'cyan',</span> <span class="pre">'green',</span> <span class="pre">'red',</span> <span class="pre">'purple',</span> <span class="pre">'orange',</span> <span class="pre">'yellow',</span> <span class="pre">'cyan',</span> <span class="pre">'green',</span> <span class="pre">'red',</span> <span class="pre">'purple',</span> <span class="pre">'orange',</span> <span class="pre">'yellow',</span> <span class="pre">'cyan',</span> <span class="pre">'green',</span> <span class="pre">'red',</span> <span class="pre">'purple',</span> <span class="pre">'orange',</span> <span class="pre">'yellow',</span> <span class="pre">'cyan',</span> <span class="pre">'green',</span> <span class="pre">'red',</span> <span class="pre">'purple',</span> <span class="pre">'orange',</span> <span class="pre">'yellow',</span> <span class="pre">'cyan',</span> <span class="pre">'green',</span> <span class="pre">'red',</span> <span class="pre">'purple',</span> <span class="pre">'orange',</span> <span class="pre">'yellow',</span> <span class="pre">'cyan',</span> <span class="pre">'green',</span> <span class="pre">'red',</span> <span class="pre">'purple',</span> <span class="pre">'orange',</span> <span class="pre">'yellow',</span> <span class="pre">'cyan',</span> <span class="pre">'green',</span> <span class="pre">'red',</span> <span class="pre">'purple',</span> <span class="pre">'orange',</span> <span class="pre">'yellow',</span> <span class="pre">'cyan',</span> <span class="pre">'green',</span> <span class="pre">'red',</span> <span class="pre">'purple',</span> <span class="pre">'orange',</span> <span class="pre">'yellow',</span> <span class="pre">'cyan',</span> <span class="pre">'green',</span> <span class="pre">'red',</span> <span class="pre">'purple',</span> <span class="pre">'orange',</span> <span class="pre">'yellow',</span> <span class="pre">'cyan',</span> <span class="pre">'green',</span> <span class="pre">'red',</span> <span class="pre">'purple',</span> <span class="pre">'orange',</span> <span class="pre">'yellow',</span> <span class="pre">'cyan',</span> <span class="pre">'green',</span> <span class="pre">'red',</span> <span class="pre">'purple',</span> <span class="pre">'orange',</span> <span class="pre">'yellow',</span> <span class="pre">'cyan',</span> <span class="pre">'green',</span> <span class="pre">'red',</span> <span class="pre">'purple'],</span> <span class="pre">takeGraphSample=False,</span> <span class="pre">noSampleNodes=100</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#communityVisualization"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.communityVisualization" title="Permalink to this definition"></a></dt>
<dd><section id="id79">
<h2>Desc<a class="headerlink" href="#id79" title="Permalink to this heading"></a></h2>
<p>Displays communities created by given community algo.</p>
</section>
<section id="id80">
<h2>Parameters<a class="headerlink" href="#id80" title="Permalink to this heading"></a></h2>
<p>filename : str, Graph file
pathToFolder : str, Path to folder having graph files
algo: function object to create communities</p>
<blockquote>
<div><p>Default: nx.community.greedy_modularity_communities 
Examples: nx.community.kernighan_lin_bisection</p>
<blockquote>
<div><p>nx.community.greedy_modularity_communities
nx.community.louvain_communities
algorithms.leiden  (from cdlib library)</p>
</div></blockquote>
</div></blockquote>
<p>ax: Matplotlib axis object
withLabels : boolean, Should labels be displayed? The default is False.
font_size : int, Label font size. The default is 8.
edgewidth: float, Edge line width
node_size: int
k: float; optimal distance between nodes. 
colorList: List of colors for difft communitied.</p>
<blockquote>
<div><p>Default is: [“orange”,”yellow”,”cyan”,”green”,”red”,”purple”]*20</p>
</div></blockquote>
</section>
<section id="id81">
<h2>Returns<a class="headerlink" href="#id81" title="Permalink to this heading"></a></h2>
<p>None.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.featureEngKmeans">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">featureEngKmeans</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_clusters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">km</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gmm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">42</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#featureEngKmeans"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.featureEngKmeans" title="Permalink to this definition"></a></dt>
<dd><section id="id82">
<h2>Parameters<a class="headerlink" href="#id82" title="Permalink to this heading"></a></h2>
<p>train : DataFrame
test : DataFrame
n_clusters : int; Number of clusters
step_size : int; No of cat_cols
km : boolean; Should features be generated through KMeans</p>
<blockquote>
<div><p>Defaul.</p>
</div></blockquote>
<p>gmm : boolean; Should features be generated through GMM
random_state : int;  The default is 42.</p>
</section>
<section id="id83">
<h2>Returns<a class="headerlink" href="#id83" title="Permalink to this heading"></a></h2>
<p>tr : DataFrame
te : DataFrame</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.featureImptByCentFeatCounts">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">featureImptByCentFeatCounts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">colList</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#featureImptByCentFeatCounts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.featureImptByCentFeatCounts" title="Permalink to this definition"></a></dt>
<dd><section id="id84">
<h2>Desc<a class="headerlink" href="#id84" title="Permalink to this heading"></a></h2>
<p>In the colList, how many columns pertain to
degree centrality, eigenvector centrality,
page-rank and clustering coeff. Plot
by using plotSeries().</p>
<dl>
<dt>Example:</dt><dd><p>Here is a table of col-name wise xgboost impt score</p>
<p>deg_abc   0.01
pr_cde    0.02
pr_def    0.015
eig_xy    0.11
deg_ff    0.001
deg_uy    0.01</p>
</dd>
</dl>
<p>Result (normalized):</p>
<blockquote>
<div><p>degree      3/6
pagerank    2/6
eigenvector 1/6</p>
</div></blockquote>
</section>
<section id="id85">
<h2>Parameters<a class="headerlink" href="#id85" title="Permalink to this heading"></a></h2>
<p>colList : A list of columns
normalize: Boolean</p>
</section>
<section id="id86">
<h2>Returns<a class="headerlink" href="#id86" title="Permalink to this heading"></a></h2>
<p>d : A sorted pandas Series</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.featureImptByScore">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">featureImptByScore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">score</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colList</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#featureImptByScore"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.featureImptByScore" title="Permalink to this definition"></a></dt>
<dd><section id="id87">
<h2>Desc<a class="headerlink" href="#id87" title="Permalink to this heading"></a></h2>
<p>In the colList, total score of columns
that pertain to degree centrality, to eigenvector
centrality, to page-rank and clustering coeff and 
others. Plot by using plotSeries().</p>
<dl>
<dt>Example:</dt><dd><p>Here is a table of col-name wise xgboost impt score</p>
<p>deg_abc   0.01
pr_cde    0.02
pr_def    0.015
eig_xy    0.11
deg_ff    0.001</p>
</dd>
<dt>Result:</dt><dd><p>degree      0.011
pagerank    0.035
eigenvector 0.11</p>
</dd>
</dl>
</section>
<section id="id88">
<h2>Parameters<a class="headerlink" href="#id88" title="Permalink to this heading"></a></h2>
<p>score: Pandas Series giving column wise impt score
colList : A list of dataframe columns
normalize: Boolean</p>
</section>
<section id="id89">
<h2>Returns<a class="headerlink" href="#id89" title="Permalink to this heading"></a></h2>
<p>d : A sorted pandas Series</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.generateClassificationData">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">generateClassificationData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_informative</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_classes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_clusters_per_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.5,</span> <span class="pre">0.5]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flip_y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hypercube</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">42</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">genColName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#generateClassificationData"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.generateClassificationData" title="Permalink to this definition"></a></dt>
<dd><p>The function generates data for classification task using 
sklearn’s make_classification(). All features generted by 
make_classification() have continuous values. After data 
is generated, we discretise all features as per number of
‘bins’ specified. We then have two datasets: original and 
discretised. Both the datasets are shuffled and split into
train and test data. 
Note that both the datasets continue to have the same 
row-orderings. And hence returned sample of continuous
data corresponds to returned sample of discrete data.</p>
<section id="id90">
<h2>Parameters<a class="headerlink" href="#id90" title="Permalink to this heading"></a></h2>
<p>For description of parameters, please see sklearn’s documentation</p>
</section>
<section id="id91">
<h2>Returns<a class="headerlink" href="#id91" title="Permalink to this heading"></a></h2>
<dl class="simple">
<dt>orig_train<span class="classifier">pandas DataFrame</span></dt><dd><p>Has continuous features</p>
</dd>
<dt>orig_test<span class="classifier">pandas DataFrame</span></dt><dd><p>HAs continuous features</p>
</dd>
<dt>train_train<span class="classifier">pandas DataFrame</span></dt><dd><p>Has discrete features</p>
</dd>
<dt>train_test<span class="classifier">pandas DataFrame</span></dt><dd><p>Has discrete features</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.pcaAndConcat">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">pcaAndConcat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vec_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vec_test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_components</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaleData</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#pcaAndConcat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.pcaAndConcat" title="Permalink to this definition"></a></dt>
<dd><p>Calls: 
Called by: main method as needed</p>
<section id="id92">
<h2>Desc<a class="headerlink" href="#id92" title="Permalink to this heading"></a></h2>
<blockquote>
<div><p>Given a dictionray with keys as respective cat-columns 
and the values as dataframes (of unitvectors), the function 
performs PCA on each value (ie. the dataframe) and outputs 
one concatenated DataFrame. This it does for both train/test
dictionaries.</p>
</div></blockquote>
<dl class="simple">
<dt>Example: </dt><dd><p>Assume our original training data had 5-cat columns. These
5-cat-cols would be keys of dict: vec_train and vec_test. 
Corresponding to every key the input dict will have 
5-dataframes of unit vectors as values. No of rows in each 
dataFrame would be the same, that is, as many as in train/test 
data. We then take PCA of each dataframe and reduce the 
unit vectors to n_components (default is 2 columns). Thus, 
we will have 5 X n_components in all. We concatenate these 
5 X n_components (or columns) to make our training/test data.</p>
</dd>
</dl>
</section>
<section id="id93">
<h2>Parameters<a class="headerlink" href="#id93" title="Permalink to this heading"></a></h2>
<dl class="simple">
<dt>vec_train: Dictionary of Dataframes with keys as cat-cols.</dt><dd><p>It would contain unit vectors per-level per-row 
for each cat col of train data.</p>
</dd>
</dl>
<p>vec_test:  Same as vect_train but for tes data</p>
<dl class="simple">
<dt>n_components: int, No of PCA components to reduce each DataFrame to.</dt><dd><p>Default is 2.</p>
</dd>
<dt>scaleData: boolean; Should data be centered and scaled before PCA?</dt><dd><p>Default is True.</p>
</dd>
</dl>
</section>
<section id="id94">
<h2>Returns<a class="headerlink" href="#id94" title="Permalink to this heading"></a></h2>
<p>Concated dataframes and two dictionaries. Each dictionary is of 
DataFrames, as before, except that evry DataFrame that was input
is replaced by its PCA version with as many columns as n_components.
Two dictionaries returned are mainly for debugging purposes.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.plotBipartiteGraph">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">plotBipartiteGraph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pathToFolder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connected</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">takeGraphSample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noSampleNodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#plotBipartiteGraph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.plotBipartiteGraph" title="Permalink to this definition"></a></dt>
<dd><p>Plots a bipartitie graph.</p>
<section id="id95">
<h2>Parameters<a class="headerlink" href="#id95" title="Permalink to this heading"></a></h2>
<p>filename : Filename
pathToFolder : Folder where file resides
ax: Matplotlib axis
connected: Boolean; Show only connected nodes</p>
<blockquote>
<div><p>Default is False</p>
</div></blockquote>
<p>takeGraphSample: boolean; Take a sample of graph for plotting
noSampleNodes: int; No of nodes to be taken if takeGraphSample is True</p>
</section>
<section id="id96">
<h2>Returns<a class="headerlink" href="#id96" title="Permalink to this heading"></a></h2>
<p>None.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.plotMulResults">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">plotMulResults</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">results1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">results2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lt_iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#plotMulResults"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.plotMulResults" title="Permalink to this definition"></a></dt>
<dd><section id="id97">
<h2>Desc<a class="headerlink" href="#id97" title="Permalink to this heading"></a></h2>
<p>Plots learning curves from two different xgboost modeling results</p>
</section>
<section id="id98">
<h2>Parameters<a class="headerlink" href="#id98" title="Permalink to this heading"></a></h2>
<p>results1 : xgboost results object from Ist modeling
results2 : xgboost results object from IInd modeling
metric : Metric being evaluated
lt_iterations : X-axis iterations limit. The default is 500.</p>
</section>
<section id="id99">
<h2>Returns<a class="headerlink" href="#id99" title="Permalink to this heading"></a></h2>
<p>None.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.plotResults">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">plotResults</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">results</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#plotResults"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.plotResults" title="Permalink to this definition"></a></dt>
<dd><section id="id100">
<h2>Desc<a class="headerlink" href="#id100" title="Permalink to this heading"></a></h2>
<p>Plots learning curve after xgboost modeling</p>
</section>
<section id="id101">
<h2>Parameters<a class="headerlink" href="#id101" title="Permalink to this heading"></a></h2>
<p>results : xgboost results object
metric : Metric of interest</p>
</section>
<section id="id102">
<h2>Returns<a class="headerlink" href="#id102" title="Permalink to this heading"></a></h2>
<p>None.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.plotSeries">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">plotSeries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scores</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#plotSeries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.plotSeries" title="Permalink to this definition"></a></dt>
<dd><section id="id103">
<h2>Desc<a class="headerlink" href="#id103" title="Permalink to this heading"></a></h2>
<p>Plots MI scores or feature impt by centrality 
calculated by calMIScores() or by featureImptByCentrality()
Use it as:</p>
<blockquote>
<div><p>plt.figure(dpi=100, figsize=(8, 5))
plotSeries(calMIScores(X, y), someTitle)
OR, as
plotSeries(featureImptByCentrality, someTitle)</p>
</div></blockquote>
</section>
<section id="id104">
<h2>Parameters<a class="headerlink" href="#id104" title="Permalink to this heading"></a></h2>
<p>scores: Pandas Series
title: Graph title; default: Empty str</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.plotUnipartiteGraph">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">plotUnipartiteGraph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pathToFolder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connected</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">takeGraphSample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noSampleNodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#plotUnipartiteGraph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.plotUnipartiteGraph" title="Permalink to this definition"></a></dt>
<dd><p>Plots a unipartite graph
Parameters
———-
filename : graph file.
pathToFolder : Path to folder of graph file.
takeGraphSample: boolean; Take a sample of graph for plotting
noSampleNodes: int; No of nodes to be taken if takeGraphSample is True</p>
<section id="id105">
<h2>Returns<a class="headerlink" href="#id105" title="Permalink to this heading"></a></h2>
<p>None.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.randomSample">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">randomSample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perstratasize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rng</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#randomSample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.randomSample" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.remConstColumns">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">remConstColumns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#remConstColumns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.remConstColumns" title="Permalink to this definition"></a></dt>
<dd><section id="id106">
<h2>Desc<a class="headerlink" href="#id106" title="Permalink to this heading"></a></h2>
<p>Removes const columns from dataframe df</p>
</section>
<section id="id107">
<h2>Parameters<a class="headerlink" href="#id107" title="Permalink to this heading"></a></h2>
<p>df : pandas DataFrame</p>
</section>
<section id="id108">
<h2>Returns<a class="headerlink" href="#id108" title="Permalink to this heading"></a></h2>
<p>df : pandas DataFrame</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.remCorrFeatures">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">remCorrFeatures</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#remCorrFeatures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.remCorrFeatures" title="Permalink to this definition"></a></dt>
<dd><section id="id109">
<h2>Desc<a class="headerlink" href="#id109" title="Permalink to this heading"></a></h2>
<p>Function drops features which have pearson’s corr
value more than or equal to the threshold. Absolute
value of theshold is taken.
Parameters
———-
data : DataFrame from whom highly corr</p>
<blockquote>
<div><p>features are to be removed</p>
</div></blockquote>
<dl class="simple">
<dt>threshold<span class="classifier">Corr threshold beyond which a </span></dt><dd><p>feature will be dropped</p>
</dd>
</dl>
</section>
<section id="id110">
<h2>Returns<a class="headerlink" href="#id110" title="Permalink to this heading"></a></h2>
<dl class="simple">
<dt>un_corr_data<span class="classifier">DataFrame with highly corr</span></dt><dd><p>features dropped</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.removeLowVarCols">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">removeLowVarCols</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pca</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#removeLowVarCols"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.removeLowVarCols" title="Permalink to this definition"></a></dt>
<dd><p>Remove columns from pandas DataFrame having variance below threshold
Parameters
———-
df: Pandas DataFrame
threshold: Float value
Returns
——-
DataFrame with columns having low threshold dropped</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.restorePythonObject">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">restorePythonObject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filePath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#restorePythonObject"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.restorePythonObject" title="Permalink to this definition"></a></dt>
<dd><p>Called by: None
Calls: None
Restores an earlier saved python object
in pickle format by savePythonObject()
Parameters
———-
filename : Pickle file having python-object
filePath : Folder where filename is placed</p>
<blockquote>
<div><p>Default is modelsPath</p>
</div></blockquote>
<section id="id111">
<h2>Returns<a class="headerlink" href="#id111" title="Permalink to this heading"></a></h2>
<p>Python-object</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.savePythonObject">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">savePythonObject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pythonObject</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filePath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#savePythonObject"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.savePythonObject" title="Permalink to this definition"></a></dt>
<dd><section id="id112">
<h2>Desc<a class="headerlink" href="#id112" title="Permalink to this heading"></a></h2>
<p>Saves any python object to disk
File is saved to filePath. If
filePath does not exist, it is
created.
Restore the pythonObject
using restorePythonObject()</p>
</section>
<section id="id113">
<h2>Parameters<a class="headerlink" href="#id113" title="Permalink to this heading"></a></h2>
<p>pythonObject: Obj to be saved
filename : str Name of pickle file
filePath: str, NAme of folder</p>
</section>
<section id="id114">
<h2>Returns<a class="headerlink" href="#id114" title="Permalink to this heading"></a></h2>
<p>None.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.transformBinnedDF2Communities">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">transformBinnedDF2Communities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columnNames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pathToGraphFolder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_binned</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">algo=&lt;function</span> <span class="pre">greedy_modularity_communities&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#transformBinnedDF2Communities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.transformBinnedDF2Communities" title="Permalink to this definition"></a></dt>
<dd><section id="id115">
<h2>Desc<a class="headerlink" href="#id115" title="Permalink to this heading"></a></h2>
<p>Replace every column in the binned the Dataframe as per network community
Example binned/discrete dataframe:</p>
<blockquote>
<div><p>‘a’     ‘b
–      —
434     709
435     789
23      710
78      756</p>
</div></blockquote>
<p>Replace col ‘a’ as per communities discovered in network ‘a_projected_b.gml’:
434 &amp; 435 belong to one community and 23 &amp; 78 to other.</p>
<blockquote>
<div><p>‘a’     ‘b’
—     —</p>
<blockquote>
<div><p>0      709
0      789
1      710
1      756</p>
</div></blockquote>
</div></blockquote>
<p>Similarly, replace col ‘b’ as per communities in ‘b_projected_a.gml’:</p>
<blockquote>
<div><p>‘a’     ‘b’
—     —</p>
<blockquote>
<div><p>0      1
0      0
1      0
1      1</p>
</div></blockquote>
</div></blockquote>
</section>
<section id="id116">
<h2>Parameters<a class="headerlink" href="#id116" title="Permalink to this heading"></a></h2>
<p>columnNames: list of cat cols
pathToGraphFolder: str: Folder that has graph files     
train_binned: DataFrame with binned/discrete columns  
algo: function object: networkx algorithm to be used to</p>
<blockquote>
<div><p>discover communities.
Examples: nx.community.kernighan_lin_bisection</p>
<blockquote>
<div><p>nx.community.greedy_modularity_communities
nx.community.louvain_communities</p>
</div></blockquote>
</div></blockquote>
</section>
<section id="id117">
<h2>Returns<a class="headerlink" href="#id117" title="Permalink to this heading"></a></h2>
<dl class="simple">
<dt>map_list: list of dictionaries. Each dictionary maps</dt><dd><p>levels in a column to a community</p>
</dd>
<dt>df: DataFrame: Transformed train_binned DataFrame.</dt><dd><p>If train_binned had columns other than columnNames,
df would not contain those columns</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.transformBinnedDF2CommunitiesAll">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">transformBinnedDF2CommunitiesAll</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pathToGraphFolder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_binned</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">algo</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#transformBinnedDF2CommunitiesAll"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.transformBinnedDF2CommunitiesAll" title="Permalink to this definition"></a></dt>
<dd><section id="id118">
<h2>Desc<a class="headerlink" href="#id118" title="Permalink to this heading"></a></h2>
<p>Search out all graph files and Replace every column in the binned Dataframe 
as per network community
Example binned/discrete dataframe:</p>
<blockquote>
<div><p>‘a’     ‘b
–      —
434     709
435     789
23      710
78      756</p>
</div></blockquote>
<p>Replace col ‘a’ as per communities discovered in network ‘a_projected_b.gml’:
434 &amp; 435 belong to one community and 23 &amp; 78 to other.</p>
<blockquote>
<div><p>‘a’     ‘b’
—     —</p>
<blockquote>
<div><p>0      709
0      789
1      710
1      756</p>
</div></blockquote>
</div></blockquote>
<p>Similarly, replace col ‘b’ as per communities in ‘b_projected_a.gml’:</p>
<blockquote>
<div><p>‘a’     ‘b’
—     —</p>
<blockquote>
<div><p>0      1
0      0
1      0
1      1</p>
</div></blockquote>
</div></blockquote>
</section>
<section id="id119">
<h2>Parameters<a class="headerlink" href="#id119" title="Permalink to this heading"></a></h2>
<p>pathToGraphFolder: str: Folder that has graph files
train_binned: DataFrame with binned/discrete columns
algo: function object: networkx algorithm to be used to</p>
<blockquote>
<div><p>discover communities.
Example: nx.community.greedy_modularity_communities</p>
</div></blockquote>
</section>
<section id="id120">
<h2>Returns<a class="headerlink" href="#id120" title="Permalink to this heading"></a></h2>
<dl class="simple">
<dt>map_list: list of dictionaries. Each dictionary maps</dt><dd><p>levels in a column to a community</p>
</dd>
<dt>df: DataFrame: Transformed train_binned DataFrame.</dt><dd><p>If train_binned had columns other than columnNames,
df would not contain those columns</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.transformFeatures">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">transformFeatures</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">genColName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#transformFeatures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.transformFeatures" title="Permalink to this definition"></a></dt>
<dd><p>Called by: transformToCatFeatures() , generateClassificationData
Calls: None</p>
<section id="id121">
<h2>Desc<a class="headerlink" href="#id121" title="Permalink to this heading"></a></h2>
<p>Given a DataFrame X_data having only continuous features, 
and y_data the target, the function bins each feature. 
The resulting dataframe as also the original is partitioned
into train/test as per specified test_size.
Parameters
———-
X_data : A pandas DataFrame (data features)
y_data : A pandas series (data target)
test_size : How data is to be partitioned into train/test</p>
<blockquote>
<div><p>The default is 0.25.</p>
</div></blockquote>
<dl class="simple">
<dt>bins<span class="classifier">Number of bins into which each column of X</span></dt><dd><p>will be discretised. The default is 20.</p>
</dd>
<dt>genColName<span class="classifier">Should new column names be generated?</span></dt><dd><p>The default is True.</p>
</dd>
</dl>
</section>
<section id="id122">
<h2>Returns<a class="headerlink" href="#id122" title="Permalink to this heading"></a></h2>
<p>orig_train : train sample taken from X 
orig_test : test sample taken from X
train_binned : train sample but binned</p>
<blockquote>
<div><p>taken from X</p>
</div></blockquote>
<dl class="simple">
<dt>test_binned<span class="classifier">test sample but binned</span></dt><dd><p>taken from X</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.transformToCatFeatures">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">transformToCatFeatures</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">genColName</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#transformToCatFeatures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.transformToCatFeatures" title="Permalink to this definition"></a></dt>
<dd><p>Calls: transformFeatures()
Called by: main()</p>
<section id="id123">
<h2>Desc<a class="headerlink" href="#id123" title="Permalink to this heading"></a></h2>
<p>The function discretises X assuming all features in X
have continuous values. Discretisation of all features 
is perfomed as per number of ‘bins’ specified. 
We then have two datasets: original and discretised.
Both original and discretised versions continue to have 
the same row-orderings. And hence returned sample of continuous
data corresponds to returned sample of discrete data.</p>
<p>The functon assumes that X,y have been generated by one of
sklearn’s make datasets algorithm and hence do not have
header. The function assigns a header.</p>
</section>
<section id="id124">
<h2>Parameters<a class="headerlink" href="#id124" title="Permalink to this heading"></a></h2>
</section>
<section id="id125">
<h2>Returns<a class="headerlink" href="#id125" title="Permalink to this heading"></a></h2>
<dl class="simple">
<dt>orig_train<span class="classifier">pandas DataFrame</span></dt><dd><p>Has continuous features</p>
</dd>
<dt>orig_test<span class="classifier">pandas DataFrame</span></dt><dd><p>HAs continuous features</p>
</dd>
<dt>train_train<span class="classifier">pandas DataFrame</span></dt><dd><p>Has discrete features</p>
</dd>
<dt>train_test<span class="classifier">pandas DataFrame</span></dt><dd><p>Has discrete features</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.visualize_importance">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">visualize_importance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">models</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature_cols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#visualize_importance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.visualize_importance" title="Permalink to this definition"></a></dt>
<dd><p>Not tested</p>
<section id="id126">
<h2>Parameters<a class="headerlink" href="#id126" title="Permalink to this heading"></a></h2>
<dl class="simple">
<dt>models<span class="classifier">TYPE</span></dt><dd><p>DESCRIPTION.</p>
</dd>
<dt>feature_cols<span class="classifier">TYPE</span></dt><dd><p>DESCRIPTION.</p>
</dd>
<dt>title<span class="classifier">TYPE</span></dt><dd><p>DESCRIPTION.</p>
</dd>
<dt>top<span class="classifier">TYPE, optional</span></dt><dd><p>DESCRIPTION. The default is 9.</p>
</dd>
</dl>
</section>
<section id="id127">
<h2>Returns<a class="headerlink" href="#id127" title="Permalink to this heading"></a></h2>
<p>None.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.xgImptFeatures">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">xgImptFeatures</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">master</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/utils.html#xgImptFeatures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#utils.xgImptFeatures" title="Permalink to this definition"></a></dt>
<dd><p>Given an xgboost classifier model &amp; data col
names, the function returns two lists of cols,
one of impt features and the other of 
unimportant features. Feature importances
areby ‘gain’ as against default ‘weight’
in plot_importance() function of xgboost.</p>
<section id="id128">
<h2>Parameters<a class="headerlink" href="#id128" title="Permalink to this heading"></a></h2>
<p>model: xgboostclassifier model trained on dataframe df
df_columns: Column names of df. Sequence</p>
<blockquote>
<div><p>is important: df_columns = list(df.columns)</p>
</div></blockquote>
<dl class="simple">
<dt>master: Folder where impt feature sequence is saved</dt><dd><p>File name: fe_1.txt</p>
</dd>
</dl>
</section>
<section id="id129">
<h2>Returns<a class="headerlink" href="#id129" title="Permalink to this heading"></a></h2>
<p>fe_1 : List of columns having features imp &gt; 0 in descending order
fe_0 : List of columns having features imp of 0.0
fe   : Pandas Series with indicies as col names against imp scores</p>
</section>
</dd></dl>

<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#utils.xgImptFeatures" title="utils.xgImptFeatures"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.xgImptFeatures</span></code></a>(model, df_columns[, ...])</p></td>
<td><p>Given an xgboost classifier model &amp; data col names, the function returns two lists of cols, one of impt features and the other of  unimportant features.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#utils.visualize_importance" title="utils.visualize_importance"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.visualize_importance</span></code></a>(models, ...[, top])</p></td>
<td><p>Not tested</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#utils.remCorrFeatures" title="utils.remCorrFeatures"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.remCorrFeatures</span></code></a>(data, threshold)</p></td>
<td><p>Desc

Function drops features which have pearson's corr
value more than or equal to the threshold. Absolute
value of theshold is taken.
Parameters
----------
data : DataFrame from whom highly corr

:9: (ERROR/3) Unexpected indentation.

features are to be removed

:10: (WARNING/2) Block quote ends without a blank line; unexpected unindent.

threshold

Corr threshold beyond which a 

feature will be dropped

:12: (WARNING/2) Definition list ends without a blank line; unexpected unindent.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#utils.addStatsCols" title="utils.addStatsCols"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.addStatsCols</span></code></a>(df)</p></td>
<td><p>Given a dataframe with all numeric features, this function creates more numeric features, row-wise, as: std, mean, median,min, max and kurtosis.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#utils.transformToCatFeatures" title="utils.transformToCatFeatures"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.transformToCatFeatures</span></code></a>(X, y[, ...])</p></td>
<td><p>Calls: transformFeatures() Called by: main()</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#utils.generateClassificationData" title="utils.generateClassificationData"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.generateClassificationData</span></code></a>([...])</p></td>
<td><p>The function generates data for classification task using  sklearn's make_classification().</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#utils.transformFeatures" title="utils.transformFeatures"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.transformFeatures</span></code></a>(X_data, y_data[, ...])</p></td>
<td><p>Called by: transformToCatFeatures() , generateClassificationData Calls: None</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#utils.removeLowVarCols" title="utils.removeLowVarCols"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.removeLowVarCols</span></code></a>(df[, threshold, pca])</p></td>
<td><p>Remove columns from pandas DataFrame having variance below threshold Parameters ---------- df: Pandas DataFrame threshold: Float value Returns ------- DataFrame with columns having low threshold dropped</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#utils.binFeatures" title="utils.binFeatures"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.binFeatures</span></code></a>(df[, bins])</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#utils.randomSample" title="utils.randomSample"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.randomSample</span></code></a>(ar, perstratasize, rng)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#utils.plotResults" title="utils.plotResults"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.plotResults</span></code></a>(results, metric)</p></td>
<td><p>Desc</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#utils.plotMulResults" title="utils.plotMulResults"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.plotMulResults</span></code></a>(results1, results2, metric)</p></td>
<td><p>Desc</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#utils.bootstrapSample" title="utils.bootstrapSample"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.bootstrapSample</span></code></a>(df)</p></td>
<td><p>Desc

Return bootstrap samples of
df, pandas dataframe.
Parameters
----------
df : Pandas DataFrame</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#utils.savePythonObject" title="utils.savePythonObject"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.savePythonObject</span></code></a>(pythonObject, filename)</p></td>
<td><p>Desc

Saves any python object to disk
File is saved to filePath. If
filePath does not exist, it is
created.
Restore the pythonObject
using restorePythonObject()</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#utils.restorePythonObject" title="utils.restorePythonObject"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.restorePythonObject</span></code></a>(filename[, filePath])</p></td>
<td><p>Called by: None Calls: None Restores an earlier saved python object in pickle format by savePythonObject() Parameters ---------- filename : Pickle file having python-object filePath : Folder where filename is placed            Default is modelsPath</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#utils.pcaAndConcat" title="utils.pcaAndConcat"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.pcaAndConcat</span></code></a>(vec_train, vec_test[, ...])</p></td>
<td><p>Calls:  Called by: main method as needed</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#utils.calMIScores" title="utils.calMIScores"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.calMIScores</span></code></a>(X, y)</p></td>
<td><p>Desc

Calculates mutual information scores when target
is discrete.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#utils.plotSeries" title="utils.plotSeries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.plotSeries</span></code></a>(scores[, title])</p></td>
<td><p>Desc

Plots MI scores or feature impt by centrality 
calculated by calMIScores() or by featureImptByCentrality()
Use it as:

:6: (ERROR/3) Unexpected indentation.

plt.figure(dpi=100, figsize=(8, 5))
plotSeries(calMIScores(X, y), someTitle)
OR, as
plotSeries(featureImptByCentrality, someTitle)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#utils.featureImptByCentFeatCounts" title="utils.featureImptByCentFeatCounts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.featureImptByCentFeatCounts</span></code></a>(colList[, ...])</p></td>
<td><p>Desc

In the colList, how many columns pertain to
degree centrality, eigenvector centrality,
page-rank and clustering coeff. Plot
by using plotSeries().</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#utils.featureImptByScore" title="utils.featureImptByScore"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.featureImptByScore</span></code></a>(score, colList[, ...])</p></td>
<td><p>Desc

In the colList, total score of columns
that pertain to degree centrality, to eigenvector
centrality, to page-rank and clustering coeff and 
others. Plot by using plotSeries().</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#utils.plotBipartiteGraph" title="utils.plotBipartiteGraph"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.plotBipartiteGraph</span></code></a>(filename, pathToFolder)</p></td>
<td><p>Plots a bipartitie graph.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#utils.plotUnipartiteGraph" title="utils.plotUnipartiteGraph"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.plotUnipartiteGraph</span></code></a>(filename, pathToFolder)</p></td>
<td><p>Plots a unipartite graph Parameters ---------- filename : graph file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#utils.communityVisualization" title="utils.communityVisualization"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.communityVisualization</span></code></a>(filename, ...)</p></td>
<td><p>Desc

Displays communities created by given community algo.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#utils.transformBinnedDF2Communities" title="utils.transformBinnedDF2Communities"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.transformBinnedDF2Communities</span></code></a>(...[, algo])</p></td>
<td><p>Desc

Replace every column in the binned the Dataframe as per network community
Example binned/discrete dataframe:

:5: (ERROR/3) Unexpected indentation.

'a'     'b
--      ---
434     709
435     789
23      710
78      756</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#utils.transformBinnedDF2CommunitiesAll" title="utils.transformBinnedDF2CommunitiesAll"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.transformBinnedDF2CommunitiesAll</span></code></a>(...)</p></td>
<td><p>Desc

Search out all graph files and Replace every column in the binned Dataframe 
as per network community
Example binned/discrete dataframe:

:6: (ERROR/3) Unexpected indentation.

'a'     'b
--      ---
434     709
435     789
23      710
78      756</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#utils.remConstColumns" title="utils.remConstColumns"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.remConstColumns</span></code></a>(df)</p></td>
<td><p>Desc

Removes const columns from dataframe df</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#utils.featureEngKmeans" title="utils.featureEngKmeans"><code class="xref py py-obj docutils literal notranslate"><span class="pre">utils.featureEngKmeans</span></code></a>(train, test, ...[, ...])</p></td>
<td><p>Parameters

train : DataFrame
test : DataFrame
n_clusters : int; Number of clusters
step_size : int; No of cat_cols
km : boolean; Should features be generated through KMeans

:8: (ERROR/3) Unexpected indentation.

Defaul.

:9: (WARNING/2) Block quote ends without a blank line; unexpected unindent.

gmm : boolean; Should features be generated through GMM
random_state : int;  The default is 42.</p></td>
</tr>
</tbody>
</table>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to Documentation of pacakage catencfamily’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="_autosummary/utils.xgImptFeatures.html" class="btn btn-neutral float-right" title="utils.xgImptFeatures" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Prof. Ashok Harnal.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>